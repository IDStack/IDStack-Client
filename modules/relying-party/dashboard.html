<!DOCTYPE html>
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
    <meta charset="utf-8"/>
    <title>IDStack</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="IDStack | The common protocol for document verification built on Blockchain" name="description"/>
    <meta content="www.idstack.one" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
          type="text/css"/>
    <link href="../../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->


    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN THEME GLOBAL STYLES -->
    <link href="../../assets/global/css/components-md.min.css" rel="stylesheet" id="style_components" type="text/css"/>
    <link href="../../assets/global/css/plugins-md.min.css" rel="stylesheet" type="text/css"/>
    <!-- END THEME GLOBAL STYLES -->
    <!-- BEGIN THEME LAYOUT STYLES -->
    <link href="../../assets/layout/css/layout.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/layout/css/themes/blue.min.css" rel="stylesheet" type="text/css" id="style_color"/>
    <link href="../../assets/layout/css/custom.min.css" rel="stylesheet" type="text/css"/>
    <!-- END THEME LAYOUT STYLES -->
    <link rel="shortcut icon" href="../../assets/favicon.png"/>
</head>
<!-- END HEAD -->

<body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid page-sidebar-closed page-md">
<!-- BEGIN HEADER -->
<div class="page-header navbar navbar-fixed-top">
    <!-- BEGIN HEADER INNER -->
    <div class="page-header-inner">
        <!-- BEGIN LOGO -->
        <div class="page-logo bg-red bg-font-red">
            <div class="menu-toggler sidebar-toggler">
                <!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
            </div>
        </div>

        <!-- END LOGO -->
        <!-- BEGIN PAGE ACTIONS -->
        <!-- DOC: Remove "hide" class to enable the page header actions -->
        <div class="page-actions">
            <a href="../home/main.html">
                <img src="../../assets/logo-small.png" alt="logo" class="logo-default" /> </a>
            <div class="btn-group" >
                <a class="btn btn-link disabled font-white" style="background-color: transparent;"> <small> Common Protocol for Document Verification</small> </a>
                <!--<span class="hidden-sm hidden-xs">idStack <small> Common Protocol for Document Verification </small></span>&nbsp;-->
            </div>
        </div>
        <!-- END PAGE ACTIONS -->
        <!-- BEGIN PAGE TOP -->
        <div class="page-top bg-blue">
            <!-- BEGIN TOP NAVIGATION MENU -->
            <div class="top-menu m-grid-col-md-6">
                <ul class="nav navbar-nav pull-right">
                    <!-- BEGIN NOTIFICATION DROPDOWN -->
                    <li class="dropdown dropdown-extended dropdown-notification" id="header_notification_bar">
                        <h3 class="font-white bold uppercase" onclick="window.location.assign('dashboard.html')" >Relying Party</h3>
                    </li>
                    <!-- END NOTIFICATION DROPDOWN -->
                </ul>
            </div>
            <!-- END TOP NAVIGATION MENU -->
        </div>
        <!-- END PAGE TOP -->
    </div>
    <!-- END HEADER INNER -->
</div>
<!-- END HEADER -->
<!-- BEGIN HEADER & CONTENT DIVIDER -->
<div class="clearfix"></div>
<!-- END HEADER & CONTENT DIVIDER -->
<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <div id="sidebar"></div>
    <!-- END SIDEBAR -->
    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <!-- BEGIN CONTENT BODY -->
        <div class="page-content">
            <!-- BEGIN PAGE HEAD-->
            <div class="page-head">
                <!-- BEGIN PAGE TITLE -->
                <div class="page-title">
                    <h1>Relying Party Dashboard

                        <div style="float: right;">
                            <a class="btn btn-circle btn-default" href="view.html?type=manual">
                                <i class="icon-magnet"></i>
                                View by file
                            </a>
                            <a class="btn btn-circle btn-icon-only tooltips btn-default" href="configuration.html?type=manual"
                               data-container="body" data-placement="left" data-html="true"
                               data-original-title="Settings">
                                <i class="icon-settings"></i>
                            </a>
                        </div>
                    </h1>
                </div>
                <!-- END PAGE TITLE -->
            </div>
            <!-- END PAGE HEAD-->

            <!-- BEGIN PAGE BASE CONTENT -->
            <div class="col-lg-12 col-mg-12 col-xs-12 col-sm-12">
                <!-- BEGIN PORTLET-->
                <div class="portlet light portlet-fit">
                    <div class="portlet-title ">
                        <div class="caption">
                            <i class="icon-list font-green-haze"></i>
                            <span class="caption-subject font-green bold uppercase">View Requests</span>
                        </div>
                    </div>
                    <!--<div class="portlet-body">-->
                        <!--&lt;!&ndash;BEGIN PORTLET-BODY&ndash;&gt;-->
                        <!--<div class="scroller" style="height: 290px;" data-always-visible="1" data-rail-visible1="1">-->
                            <!--<ul class="feeds">-->
                                <!--<li id="request_list">-->

                            <!--<script id="request_template" type="text/html">-->
                                <!--<a href="view.html?type=auto&request_id=${request_id}">-->
                                    <!--<div class="col1">-->
                                        <!--<div class="cont">-->
                                            <!--<div class="cont-col1">-->
                                                <!--<div class="label label-sm label-success">-->
                                                    <!--<i class="fa fa-bell-o"></i>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                            <!--<div class="cont-col2">-->
                                                <!--<div class="desc"> ${request_id}-->
                                                    <!--<span class="label label-sm label-warning "> ${email}</span>-->
                                                    <!--{{each files_list}}-->
                                                    <!--<span class="label label-sm label-info "> ${files_list[$index].document_type} </span>-->
                                                    <!--{{/each}}-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                    <!--<div class="col2">-->
                                        <!--<div class="desc"> ${timestamp}</div>-->
                                    <!--</div>-->
                                <!--</a>-->
                            <!--</script>-->


                                <!--</li>-->
                            <!--</ul>-->
                        <!--</div>-->

                        <!--&lt;!&ndash;END PORTLET-BODY&ndash;&gt;-->
                    <!--</div>-->
                    <div class="portlet-body">
                        <div>
                            <div class="panel-body" id="request_list">
                                <div class="list-group">
                                    <div class="list-group-item-heading">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="col-md-1"></div>
                                                <div class="col-md-4">Request ID</div>
                                                <div class="col-md-2">Document Type</span>
                                                </div>
                                                <div class="col-md-2">Email</div>
                                                <div class="col-md-3"><span
                                                        class="pull-right">Timestamp </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <script id="request_template" type="text/html">
                                        <a href="view.html?type=auto&request_id=${request_id}"
                                           class="list-group-item">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="col-md-1"><span class="label label-sm  ${(status == 'PENDING') ? 'label-danger' : 'label-success'}"><i class="fa ${(status == 'PENDING') ? 'fa-clock-o' : 'fa-check'}
                                                                      "></i> </span></div>
                                                    <div class="col-md-4">${request_id}</div>
                                                    <div class="col-md-2">
                                                        {{each files_list}}
                                                        <span class="label label-sm label-info"> ${files_list[$index].document_type} </span>
                                                        {{/each}}
                                                    </div>
                                                    <div class="col-md-2"><span class="text-info"> ${email}</span></div>
                                                    <div class="col-md-3"><span
                                                            class="pull-right text-muted small"> <em>${timestamp}</em>  </span>
                                                    </div>
                                                </div>

                                            </div>
                                        </a>
                                    </script>
                                </div>
                            </div>
                        </div>
                        <!--END PORTLET-BODY-->
                    </div>

                </div>
                <!-- END PORTLET-->
            </div>
            <!-- END PAGE BASE CONTENT -->
        </div>
        <!-- END CONTENT BODY -->
    </div>
    <!-- END CONTENT -->
</div>
<!-- END CONTAINER -->

<!-- Start wrapper for jquery script imports  -->
<script>if (typeof module === 'object') {
    window.module = module;
    module = undefined;
}</script>

<script type="text/javascript" src="../../assets/global/plugins/jquery.min.js"></script>


<!-- End wrapper for jquery script imports -->
<script>if (window.module) module = window.module;</script>

<script>
    $(function () {
        $("#sidebar").load("../../layout/sidebar.html");

        $.getJSON("../../properties.json", function(json) {
            varProperties = json;
            getRequestList();
        });
    });
    //Web service calls
    function getRequestList() {
        var settings = {
            "async": true,
            "crossDomain": true,
            "url": "http://"+varProperties.relyingparty.host+"/api-relyingparty/"+varProperties.relyingparty.apiVersion+"/"+varProperties.relyingparty.apiKey+"/getdocstore/",
            "method": "GET",
            "headers": {
                "Authorization": "Basic " + btoa(varProperties.relyingparty.userName + ":" + varProperties.relyingparty.password)
            }
        }

        $.ajax(settings).done(function (response) {
            console.log(response);
            $("#request_template").tmpl(response.document_store).appendTo("#request_list");
        }).fail(function (jqXHR, errorStatus, errorThrown) {
            if (jqXHR.status && jqXHR.status == 400) {
                toastr.error(jqXHR.responseText);
            } else {
                toastr.error("Something went wrong");
            }
        });
    }


</script>

<!-- BEGIN CORE PLUGINS -->

<script src="../../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="../../assets/global/plugins/jquery-tmpl/jquery.tmpl.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/bootstrap-toastr/toastr.min.js" type="text/javascript"></script>

<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN THEME GLOBAL SCRIPTS -->
<script src="../../assets/global/scripts/app.min.js" type="text/javascript"></script>
<!-- END THEME GLOBAL SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->

<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<script src="../../assets/layout/scripts/layout.min.js" type="text/javascript"></script>
<script src="../../assets/layout/scripts/demo.min.js" type="text/javascript"></script>
<script src="../../assets/layout/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
<script src="../../assets/layout/global/scripts/quick-nav.min.js" type="text/javascript"></script>
<!-- END THEME LAYOUT SCRIPTS -->

</body>

</html>